[gd_scene load_steps=10 format=4 uid="uid://c5ulbewcxw6ua"]

[ext_resource type="Script" path="res://Scenes/game.gd" id="1_gyku8"]
[ext_resource type="PackedScene" uid="uid://cu6itddoa4dy7" path="res://Characters/Player/Player.tscn" id="2_0tcf0"]
[ext_resource type="PackedScene" uid="uid://dq4l6tx0afug3" path="res://Characters/goblin.tscn" id="5_nu02t"]
[ext_resource type="TileSet" uid="uid://d0iyej5erkq0i" path="res://Art/Floor_TileSet.tres" id="7_ie2qv"]
[ext_resource type="Script" path="res://Scenes/ui.gd" id="7_rohuu"]
[ext_resource type="Texture2D" uid="uid://dcaj74sow28cs" path="res://Art/0x72_DungeonTilesetII_v1.7/frames/environment/ui_heart/health_ui.png" id="8_cdee1"]
[ext_resource type="Script" path="res://Scripts/floor_layer.gd" id="8_ffawv"]
[ext_resource type="TileSet" uid="uid://orqm8acrxlan" path="res://Art/Wall_TileSet.tres" id="9_e5eh3"]
[ext_resource type="Texture2D" uid="uid://i3acdihjco3j" path="res://Art/0x72_DungeonTilesetII_v1.7/frames/environment/ui_heart/progress bar.png" id="9_u11hn"]

[node name="Game" type="Node2D"]
position = Vector2(-8, -8)
script = ExtResource("1_gyku8")

[node name="Goblin" parent="." instance=ExtResource("5_nu02t")]
position = Vector2(192, 136)
acceleration = 15
max_speed = 70

[node name="Player" parent="." instance=ExtResource("2_0tcf0")]
position = Vector2(32, 136)
collision_mask = 3
acceleration = 115
max_speed = 170
hp = 4

[node name="UI" type="CanvasLayer" parent="."]
script = ExtResource("7_rohuu")

[node name="HealthBar" type="TextureProgressBar" parent="UI"]
texture_filter = 1
offset_left = 10.0
offset_top = 10.0
offset_right = 90.0
offset_bottom = 26.0
value = 50.0
texture_over = ExtResource("8_cdee1")
texture_progress = ExtResource("9_u11hn")
tint_progress = Color(0.909263, 0.175352, 0.344033, 1)

[node name="MapLayer" type="Node2D" parent="."]
z_index = -1
position = Vector2(0, 48)

[node name="FloorLayer" type="TileMapLayer" parent="MapLayer"]
texture_filter = 1
tile_map_data = PackedByteArray("AAAQABAAAAABAAAAAAAQAA8AAAACAAAAAAAQAA4AAAACAAAAAAAQAA0AAAABAAAAAAAQAAwAAAABAAEAAAAQAAsAAAACAAAAAAAQAAoAAAABAAAAAAAQAAkAAAAAAAAAAAAQAAgAAAACAAAAAAAQAAcAAAAAAAAAAAAQAAYAAAABAAEAAAAQAAUAAAACAAAAAAAQAAQAAAABAAAAAAAQAAMAAAAAAAAAAAAQAAIAAAABAAEAAAAQAAEAAAAAAAAAAAAQAAAAAAACAAAAAAAQAP//AAAAAAIAAAAPABAAAAAAAAAAAAAPAA8AAAAAAAAAAAAPAA4AAAABAAAAAAAPAA0AAAACAAAAAAAPAAwAAAABAAAAAAAPAAsAAAABAAAAAAAPAAoAAAABAAAAAAAPAAkAAAABAAAAAAAPAAgAAAACAAAAAAAPAAcAAAAAAAAAAAAPAAYAAAAAAAAAAAAPAAUAAAACAAAAAAAPAAQAAAABAAAAAAAPAAMAAAABAAEAAAAPAAIAAAABAAEAAAAPAAEAAAACAAAAAAAPAAAAAAABAAEAAAAPAP//AAABAAAAAAAOABAAAAABAAEAAAAOAA8AAAAAAAAAAAAOAA4AAAAAAAAAAAAOAA0AAAAAAAAAAAAOAAwAAAAAAAAAAAAOAAsAAAABAAEAAAAOAAoAAAABAAAAAAAOAAkAAAACAAAAAAAOAAgAAAABAAAAAAAOAAcAAAACAAAAAAAOAAYAAAAAAAAAAAAOAAUAAAACAAAAAAAOAAQAAAAAAAAAAAAOAAMAAAAAAAAAAAAOAAIAAAABAAAAAAAOAAEAAAAAAAAAAAAOAAAAAAAAAAAAAAAOAP//AAACAAAAAAANABAAAAAAAAAAAAANAA8AAAABAAAAAAANAA4AAAABAAAAAAANAA0AAAACAAAAAAANAAwAAAACAAAAAAANAAsAAAAAAAAAAAANAAoAAAABAAAAAAANAAkAAAACAAAAAAANAAgAAAABAAEAAAANAAcAAAABAAAAAAANAAYAAAABAAEAAAANAAUAAAABAAAAAAANAAQAAAACAAAAAAANAAMAAAABAAEAAAANAAIAAAAAAAAAAAANAAEAAAABAAAAAAANAAAAAAACAAAAAAANAP//AAACAAAAAAAMABAAAAABAAEAAAAMAA8AAAAAAAAAAAAMAA4AAAACAAAAAAAMAA0AAAABAAEAAAAMAAwAAAAAAAAAAAAMAAsAAAABAAAAAAAMAAoAAAACAAAAAAAMAAkAAAABAAAAAAAMAAgAAAABAAAAAAAMAAcAAAAAAAAAAAAMAAYAAAABAAEAAAAMAAUAAAACAAAAAAAMAAQAAAABAAAAAAAMAAMAAAACAAAAAAAMAAIAAAAAAAAAAAAMAAEAAAACAAAAAAAMAAAAAAAAAAAAAAAMAP//AAACAAAAAAALABAAAAAAAAAAAAALAA8AAAABAAAAAAALAA4AAAACAAAAAAALAA0AAAABAAAAAAALAAwAAAABAAAAAAALAAsAAAABAAAAAAALAAoAAAAAAAAAAAALAAkAAAAAAAAAAAALAAgAAAACAAAAAAALAAcAAAABAAEAAAALAAYAAAACAAAAAAALAAUAAAABAAAAAAALAAQAAAAAAAAAAAALAAMAAAACAAAAAAALAAIAAAAAAAAAAAALAAEAAAACAAAAAAALAAAAAAACAAAAAAALAP//AAAAAAAAAAAKABAAAAACAAAAAAAKAA8AAAAAAAAAAAAKAA4AAAACAAAAAAAKAA0AAAABAAAAAAAKAAwAAAAAAAAAAAAKAAsAAAABAAAAAAAKAAoAAAACAAAAAAAKAAkAAAAAAAAAAAAKAAgAAAACAAAAAAAKAAcAAAABAAAAAAAKAAYAAAAAAAAAAAAKAAUAAAAAAAAAAAAKAAQAAAABAAAAAAAKAAMAAAABAAEAAAAKAAIAAAABAAAAAAAKAAEAAAACAAAAAAAKAAAAAAACAAAAAAAKAP//AAABAAEAAAAJABAAAAACAAAAAAAJAA8AAAABAAAAAAAJAA4AAAABAAAAAAAJAA0AAAAAAAAAAAAJAAwAAAACAAAAAAAJAAsAAAAAAAAAAAAJAAoAAAACAAAAAAAJAAkAAAAAAAAAAAAJAAgAAAABAAAAAAAJAAcAAAABAAAAAAAJAAYAAAAAAAAAAAAJAAUAAAACAAAAAAAJAAQAAAABAAAAAAAJAAMAAAAAAAAAAAAJAAIAAAABAAEAAAAJAAEAAAABAAAAAAAJAAAAAAABAAEAAAAJAP//AAABAAAAAAAIABAAAAAAAAAAAAAIAA8AAAAAAAAAAAAIAA4AAAABAAAAAAAIAA0AAAAAAAAAAAAIAAwAAAABAAEAAAAIAAsAAAABAAAAAAAIAAoAAAAAAAAAAAAIAAkAAAACAAAAAAAIAAgAAAABAAEAAAAIAAcAAAABAAEAAAAIAAYAAAABAAAAAAAIAAUAAAACAAAAAAAIAAQAAAABAAEAAAAIAAMAAAACAAAAAAAIAAIAAAAAAAAAAAAIAAEAAAAAAAAAAAAIAAAAAAAAAAAAAAAIAP//AAAAAAAAAAAHABAAAAABAAAAAAAHAA8AAAABAAAAAAAHAA4AAAABAAAAAAAHAA0AAAACAAAAAAAHAAwAAAAAAAAAAAAHAAsAAAABAAAAAAAHAAoAAAABAAEAAAAHAAkAAAABAAAAAAAHAAgAAAABAAEAAAAHAAcAAAAAAAAAAAAHAAYAAAACAAAAAAAHAAUAAAABAAAAAAAHAAQAAAABAAEAAAAHAAMAAAABAAEAAAAHAAIAAAABAAEAAAAHAAEAAAABAAAAAAAHAAAAAAABAAAAAAAHAP//AAACAAAAAAAGABAAAAAAAAAAAAAGAA8AAAABAAAAAAAGAA4AAAABAAAAAAAGAA0AAAABAAAAAAAGAAwAAAAAAAAAAAAGAAsAAAACAAAAAAAGAAoAAAABAAEAAAAGAAkAAAACAAAAAAAGAAgAAAABAAAAAAAGAAcAAAABAAAAAAAGAAYAAAABAAAAAAAGAAUAAAABAAEAAAAGAAQAAAABAAEAAAAGAAMAAAACAAAAAAAGAAIAAAABAAAAAAAGAAEAAAACAAAAAAAGAAAAAAABAAAAAAAGAP//AAABAAAAAAAFABAAAAACAAAAAAAFAA8AAAACAAAAAAAFAA4AAAABAAAAAAAFAA0AAAACAAAAAAAFAAwAAAAAAAAAAAAFAAsAAAABAAAAAAAFAAoAAAAAAAAAAAAFAAkAAAACAAAAAAAFAAgAAAACAAAAAAAFAAcAAAABAAEAAAAFAAYAAAAAAAAAAAAFAAUAAAACAAAAAAAFAAQAAAACAAAAAAAFAAMAAAABAAAAAAAFAAIAAAABAAAAAAAFAAEAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAP//AAABAAAAAAAEABAAAAAAAAAAAAAEAA8AAAACAAAAAAAEAA4AAAABAAEAAAAEAA0AAAAAAAAAAAAEAAwAAAACAAAAAAAEAAsAAAABAAEAAAAEAAoAAAACAAAAAAAEAAkAAAAAAAAAAAAEAAgAAAACAAAAAAAEAAcAAAABAAEAAAAEAAYAAAABAAAAAAAEAAUAAAABAAEAAAAEAAQAAAABAAEAAAAEAAMAAAACAAAAAAAEAAIAAAABAAAAAAAEAAEAAAABAAAAAAAEAAAAAAAAAAAAAAAEAP//AAACAAAAAAADABAAAAAAAAAAAAADAA8AAAACAAAAAAADAA4AAAACAAAAAAADAA0AAAABAAAAAAADAAwAAAAAAAAAAAADAAsAAAACAAAAAAADAAoAAAACAAAAAAADAAkAAAAAAAAAAAADAAgAAAABAAAAAAADAAcAAAABAAEAAAADAAYAAAABAAAAAAADAAUAAAABAAEAAAADAAQAAAABAAAAAAADAAMAAAACAAAAAAADAAIAAAABAAAAAAADAAEAAAAAAAAAAAADAAAAAAAAAAAAAAADAP//AAABAAEAAAACABAAAAABAAEAAAACAA8AAAACAAAAAAACAA4AAAABAAAAAAACAA0AAAACAAAAAAACAAwAAAABAAAAAAACAAsAAAABAAAAAAACAAoAAAAAAAAAAAACAAkAAAABAAEAAAACAAgAAAACAAAAAAACAAcAAAABAAAAAAACAAYAAAAAAAAAAAACAAUAAAABAAAAAAACAAQAAAAAAAAAAAACAAMAAAAAAAAAAAACAAIAAAABAAAAAAACAAEAAAACAAAAAAACAAAAAAABAAEAAAACAP//AAABAAAAAAABABAAAAACAAAAAAABAA8AAAABAAAAAAABAA4AAAACAAAAAAABAA0AAAAAAAAAAAABAAwAAAACAAAAAAABAAsAAAAAAAAAAAABAAoAAAABAAAAAAABAAkAAAACAAAAAAABAAgAAAABAAAAAAABAAcAAAACAAAAAAABAAYAAAABAAEAAAABAAUAAAAAAAAAAAABAAQAAAAAAAAAAAABAAMAAAAAAAAAAAABAAIAAAABAAAAAAABAAEAAAABAAEAAAABAAAAAAAAAAAAAAABAP//AAAAAAAAAAA=")
tile_set = ExtResource("7_ie2qv")
script = ExtResource("8_ffawv")

[node name="WallLayer" type="TileMapLayer" parent="MapLayer"]
texture_filter = 1
tile_map_data = PackedByteArray("AAAGAAEAAQAAAAEAAAAGAAIAAQAAAAEAAAAFAAMAAQAAAAAAAAAFAAQAAQAAAAAAAAAGAAUAAQADAAMAAAAIAAUAAQABAAMAAAAJAAUAAQACAAMAAAAKAAUAAQADAAIAAAAKAAYAAQAAAAEAAAAKAAgAAQAAAAEAAAAKAAoAAQADAAMAAAAJAAoAAQACAAIAAAAIAAoAAQACAAMAAAAHAAoAAQACAAIAAAAGAAoAAQAAAAMAAAAFAAoAAQACAAMAAAAEAAoAAQACAAMAAAADAAoAAQABAAMAAAAEAAYAAQAAAAEAAAAEAAcAAQAAAAAAAAAEAAgAAQAAAAEAAAAHAAcAAQAAAAEAAAAHAAgAAQAAAAEAAAAIAAIAAQABAAAAAAAJAAIAAQACAAIAAAAKAAIAAQACAAMAAAALAAIAAQADAAIAAAAMAAMAAQABAAAAAAANAAMAAQAAAAMAAAAOAAMAAQAAAAMAAAAPAAMAAQADAAMAAAAOAAQAAQABAAEAAAAOAAUAAQAAAAEAAAAOAAYAAQAAAAAAAAAOAAcAAQADAAMAAAANAAcAAQABAAMAAAANAAgAAQABAAAAAAANAAkAAQAAAAEAAAANAAoAAQAAAAAAAAAOAAoAAQADAAMAAAALAAwAAQADAAIAAAAKAAwAAQACAAIAAAAJAAwAAQAAAAMAAAAIAAwAAQACAAIAAAAHAAwAAQACAAIAAAAGAAwAAQABAAMAAAAFAAUAAQAAAAMAAAAEAAUAAQABAAMAAAA=")
tile_set = ExtResource("9_e5eh3")

[connection signal="hp_changed" from="Player" to="UI" method="_on_player_hp_changed"]
